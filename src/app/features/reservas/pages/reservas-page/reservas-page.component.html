<div class="reservas-container">
  <div class="header">
    <h1>Gestionar Reservas</h1>
    <p class="subtitle">Vista de disponibilidad por cancha y horario</p>
  </div>

  <div class="offline-message" *ngIf="!isComplexOnline">
    <mat-icon>cloud_off</mat-icon>
    <h2>Complejo Offline</h2>
    <p>El complejo está actualmente fuera de línea. No se pueden crear nuevas reservas.</p>
  </div>

  <!-- Navegador de fecha + Grilla -->
  <div class="schedule-section" *ngIf="isComplexOnline">
    <!-- Barra de navegación de fecha -->
    <div class="date-navigator">
      <button mat-stroked-button class="today-btn" (click)="goToToday()">Hoy</button>
      <button mat-icon-button (click)="prevDay()">
        <mat-icon>chevron_left</mat-icon>
      </button>
      <button mat-icon-button (click)="nextDay()">
        <mat-icon>chevron_right</mat-icon>
      </button>
      <mat-icon class="date-icon">calendar_today</mat-icon>
      <span class="current-date">{{ selectedDate | date:'EEEE d \'de\' MMMM' }}</span>
    </div>

    <!-- Grilla de horarios -->
    <app-schedule-grid [courts]="courts" [timeSlots]="timeSlots" [reservations]="dayReservations"
      (slotClicked)="onSlotClicked($event)" (reservationClicked)="onReservationClicked($event)">
    </app-schedule-grid>
  </div>
</div>

<!-- Toast Container para deshacer -->
<div class="toast-container">
  <div class="toast" *ngFor="let toast of toasts">
    <span class="toast-message">{{ toast.message }}</span>
    <button class="toast-action" (click)="onUndo(toast)">DESHACER</button>
  </div>
</div>